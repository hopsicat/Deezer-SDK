<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deezer SDK Example</title>
</head>
<body>
    <!-- Your HTML content -->
    <p>Test</p>
	
	    <!-- Deezer SDK Root Element -->
    <div id="dz-root"></div>
	
	<!-- Button to Play Song -->
    <button id="playButton">Play Song</button>

    <!-- Deezer SDK Script -->
    <script>
        // Function to load Deezer SDK
        function loadDeezerSDK(callback) {
            var script = document.createElement('script');
            script.src = "https://cors-anywhere.herokuapp.com/http://cdn-files.deezer.com/js/min/dz.js";
            script.onload = callback;
            script.onerror = function() {
                console.error("Failed to load Deezer SDK script.");
            };
            document.head.appendChild(script);
        }

        // Load the Deezer SDK
        loadDeezerSDK(function() {
            console.log("Deezer SDK script loaded.");
			           // Function to handle SDK readiness
            

            // Ensure DZ is defined before initializing
            if (typeof DZ !== 'undefined') {
                console.log("rentre dans le if");
				// Initialize Deezer SDK
                DZ.init({
					appId: '660431',
                    channelUrl: 'https://hopsicat.github.io/deezer-channel/channel.html', // Replace with your channel URL
			
                    player: {
                        onload: function () {
                            console.log('Deezer Player loaded');
                        }
                    }
                });

                // Function to handle SDK readiness
                DZ.ready(function () {
                    console.log('Deezer SDK is ready');
                    // You can start using Deezer SDK methods here
					
					DZ.ready(function () {
                console.log('Deezer SDK is ready');

                // Add event listener to the button
                document.getElementById('playButton').addEventListener('click', function() {
                    // Play a specific track by its ID
                    var trackId = '3135556'; // Replace with the desired track ID
                    DZ.player.playTracks([trackId]);
                });
            });		
					
					
                });
            } else {
                console.error("DZ is not defined after loading the script.");
            }
        });
    </script>
</body>
</html>
